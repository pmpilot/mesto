(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(e,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_showInputError",(function(e,t){e.textContent=t.validationMessage,t.classList.add(o._config.inputErrorClass)})),t(this,"_hideInputError",(function(e,t){e.textContent=" ",t.classList.remove(o._config.inputErrorClass)})),t(this,"_checkInputValidity",(function(e,t){var n=!t.validity.valid,r=e.querySelector("#".concat(t.id,"-error"));n?o._showInputError(r,t):o._hideInputError(r,t)})),t(this,"_toggleButtonState",(function(e,t){t?(e.classList.remove(o._config.inactiveButtonClass),e.disabled=!1):(e.classList.add(o._config.inactiveButtonClass),e.disabled="disabled")})),t(this,"_setEventListeners",(function(e){Array.from(o._inputList).forEach((function(t){t.addEventListener("input",(function(){var n=o._formElement.checkValidity();o._checkInputValidity(o._formElement,t,e),o._toggleButtonState(o._submitButton,n,e)}))})),o._formElement.addEventListener("submit",(function(e){e.preventDefault()}))})),t(this,"enableValidation",(function(){o._setEventListeners()})),this._config=e,this._formElement=r,this._inputList=r.querySelectorAll(e.inputSelector),this._submitButton=r.querySelector(e.submitButtonSelector),this._errorClass=e.errorClass}var r,o;return r=n,(o=[{key:"disabledButton",value:function(){this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.disabled=!0}}])&&e(r.prototype,o),n}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r=t.data,o=t.handleImageClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=r.link,this._image=r.image,this._handleImageClick=o,this._cardSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".place").cloneNode(!0)}},{key:"createCard",value:function(){this._element=this._getTemplate(),this._element.querySelector(".place__title").textContent=this._image,this._cardLikeButton=this._element.querySelector(".place__like-icon");var e=this._element.querySelector(".place__image");return e.src=this._link,e.alt=this._image,this._setEventListeners(),this._element}},{key:"_handleLikeClick",value:function(){this._cardLikeButton.classList.toggle("active")}},{key:"_handleDeleteClick",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".place__like-icon").addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".place__delete-button").addEventListener("click",(function(){e._handleDeleteClick()})),this._element.querySelector(".place__image").addEventListener("click",(function(){e._handleImageClick({link:e._link,image:e._image})}))}}])&&r(t.prototype,n),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._popupSelector=t}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_is-opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_is-opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__close"))&&e.close()}))}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}}])&&i(t.prototype,n),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._popupElement=document.querySelector(e),t._imageElement=t._popupElement.querySelector(".popup__image"),t._titleElement=t._popupElement.querySelector(".popup__title-image"),t}return t=c,(n=[{key:"open",value:function(e,t){a(_(c.prototype),"open",this).call(this),this._imageElement.src=t,this._imageElement.alt="Изображение ".concat(e),this._titleElement.textContent=e}}])&&l(t.prototype,n),c}(c);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._popupElement=document.querySelector(e),n._popupFormElement=n._popupElement.querySelector(".popup__form"),n._handleFormSubmit=t,n._clickFormSubmit=n._submitClick.bind(E(n)),n}return t=c,(n=[{key:"close",value:function(){this._popupFormElement.reset(),h(k(c.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var e={};return Array.from(this._popupFormElement.querySelectorAll(".popup__input")).forEach((function(t){return e[t.name]=t.value})),e}},{key:"_submitClick",value:function(e){e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()}},{key:"setEventListeners",value:function(){h(k(c.prototype),"setEventListeners",this).call(this),this._popupFormElement.addEventListener("submit",this._clickFormSubmit)}}])&&m(t.prototype,n),c}(c);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&q(t.prototype,n),e}(),j={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error"},L=document.querySelector(".intro__title"),O=document.querySelector(".intro__subtitle"),P=new y(".popup_type_image"),I=new function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"setUserInfo",(function(e){var t=e.name,n=e.job;r._nameElement.textContent=t,r._jobElement.textContent=n})),w(this,"getUserInfo",(function(){return{name:r._nameElement.textContent,job:r._jobElement.textContent}})),this._nameElement=t,this._jobElement=n}(L,O),B=new S(".popup_type_edit-profile",(function(e){I.setUserInfo(e)})),x=new S(".popup_type_add-card",(function(e){K.addItem(J(e))})),R=function(e){var t=e.image,n=e.link;P.open(t,n)};P.setEventListeners(),B.setEventListeners(),x.setEventListeners();var T=document.querySelector(".popup_type_add-card"),D=document.querySelector(".popup_type_edit-profile"),F=document.querySelector(".popup_type_image"),V=D.querySelector(".popup__form"),A=T.querySelector(".popup__form"),U=document.querySelector(".intro__open"),z=document.querySelector(".intro__submit-btn"),M=(T.querySelector(".popup__close"),D.querySelector(".popup__close"),F.querySelector(".popup__close"),V.querySelector(".popup__input_type_name")),N=V.querySelector(".popup__input_type_job"),G=(A.querySelector(".popup__input_type_place"),A.querySelector(".popup__input_type_url"),F.querySelector(".popup__title"),F.querySelector(".popup__image"),document.querySelector(".intro__title"),document.querySelector(".intro__subtitle"),document.querySelector(".template-card").content.querySelector(".place"),new n(j,V)),H=new n(j,A);G.enableValidation(),H.enableValidation(),U.addEventListener("click",(function(){var e=I.getUserInfo();M.value=e.name,N.value=e.job,B.open()})),z.addEventListener("click",(function(){x.open(),H.disabledButton()}));var J=function(e){return new o({data:e,handleImageClick:R},".template-card").createCard()},K=new C({items:[{image:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{image:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{image:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{image:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{image:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{image:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){var t=J(e);K.addItem(t)}},".places");K.renderItems();var Q=[2,3,5].map((function(e){return 2*e}));console.log(Q)})();